(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},3914:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,347,23)),Promise.resolve().then(r.bind(r,9119)),Promise.resolve().then(r.bind(r,7280))},7280:(e,t,r)=>{"use strict";r.d(t,{D:()=>l,ThemeProvider:()=>i});var o=r(5155),a=r(2115);let s=(0,a.createContext)(void 0);function l(){let e=(0,a.useContext)(s);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e}function i(e){let{children:t,defaultTheme:r="light"}=e,[l,i]=(0,a.useState)(r),[h,d]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{try{let e=localStorage.getItem("homepage-theme");e&&("light"===e||"dark"===e)&&(console.log("ThemeProvider: 从localStorage加载主题",e),i(e)),d(!0)}catch(e){console.error("ThemeProvider: 初始化主题时出错",e)}},[]),(0,a.useEffect)(()=>{if(h)try{localStorage.setItem("homepage-theme",l),console.log("ThemeProvider: 主题已保存为",l)}catch(e){console.error("ThemeProvider: 保存主题时出错",e)}},[l,h]),(0,o.jsx)(s.Provider,{value:{theme:l,toggleTheme:()=>{console.log("ThemeProvider: 手动切换主题","light"===l?"dark":"light"),i(e=>"light"===e?"dark":"light")}},children:t})}},9119:(e,t,r)=>{"use strict";r.d(t,{ClientLayout:()=>l});var o=r(5155),a=r(2115),s=r(7280);function l(e){let{children:t}=e,{theme:r}=(0,s.D)(),[l,i]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{i(!0)},[]),(0,a.useEffect)(()=>{if(l)try{let e=document.documentElement;"dark"===r?(e.classList.add("dark"),e.setAttribute("data-theme","dark")):(e.classList.remove("dark"),e.setAttribute("data-theme","light"))}catch(e){}},[r,l]),l)?(0,o.jsx)("div",{"data-theme":r,className:"dark"===r?"dark":"",children:t}):(0,o.jsx)(o.Fragment,{children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[690,441,684,358],()=>t(3914)),_N_E=e.O()}]);